h1. Steam

Steam is a headless integration testing tool driving "HtmlUnit":http://htmlunit.sourceforge.net to enable testing JavaScript-driven web sites. In that it is similar to Culerity which drives Celerity (which also drives HtmlUnit).

h2. Installation

Steam currently has the following dependencies:

* Working Java Runtime
* RJB (if you're on OS X, see Troubleshooting section)
* HtmlUnit

You can install steam both as a gem or a plugin

.pre $ gem install steam

.pre $ ruby script/plugin install git://github.com/svenfuchs/steam.git

To install HtmlUnit you can download it from "Sourceforge":http://sourceforge.net/projects/htmlunit/files. You also need to add HtmlUnit to your Java classpath. The following ways should both work:

.pre ENV['CLASSPATH'] = Dir["path/to/your/htmlunit/*.jar"].join(':')

.pre Steam.config[:html_unit][:java_path] = 'path/to/your/htmlunit'


h2. Configuration

You should not need to configure anything. If you do need though have a look at "Steam.config":http://github.com/svenfuchs/steam/blob/master/lib/steam.rb

E.g. in order to tweak the Java load params you can

.pre Steam.config[:java_load_params] = "-Xmx2048M"

h2. Usage

You can use Steam by itself as well as with Cucumber. You can find an example for a Cucumber setup in examples/cucumber/env.rb.

Steam is widely compatible with Webrat - many actions are implemented and take the same or very similar parameters as their Webrat equivalent. You even might be able to use the default webrat_steps.rb that ships with Cucumber. *This file is an example and might be out of date.*

h2. Demo

You can find a demo application here: "http://github.com/clemens/steam-demo":http://github.com/clemens/steam-demo



h2. Troubleshooting

Installing RJB on Mac OS X:

  http://www.elctech.com/articles/sudo-java_home-and-mac-os-x

The visudo way worked for us. Don't forget to add yourself to the sudoers file, though.

h2. Acknowledgements

Kudos to "Alexander Lang":http://github.com/langalex for writing "Culerity":http://github.com/langalex/culerity which pioneered full-stack AJAX-enabled integration testing in Rails.

h2. Developers

Sven Fuchs <svenfuchs@artweb-design.de>
Clemens Kofler <clemens@railway.at>
